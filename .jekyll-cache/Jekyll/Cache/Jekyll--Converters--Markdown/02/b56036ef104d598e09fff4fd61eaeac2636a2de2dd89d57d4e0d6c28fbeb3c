I"'<h2 id="what-is-jdbc">What is JDBC?</h2>
<p>JDBC stands for Java Database Connectivity, which is a standard Java API for database-independent connectivity between the Java programming language and a wide range of databases.</p>

<p>The JDBC API supports both two-tier and three-tier processing models for database access but in general, JDBC Architecture consists of two layers −</p>

<ul>
  <li>JDBC API − This provides the application-to-JDBC Manager connection. The JDBC API uses a driver manager and database-specific drivers to provide transparent connectivity to heterogeneous databases.
The JDBC driver manager ensures that the correct driver is used to access each data source. The driver manager is capable of supporting multiple concurrent drivers connected to multiple heterogeneous databases.</li>
  <li>JDBC Driver API − This supports the JDBC Manager-to-Driver Connection.</li>
</ul>

<p>The JDBC API provides the following interfaces and classes.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DriverManager − This class manages a list of database drivers. Matches connection requests from the java application with the proper database driver using communication sub protocol. The first driver that recognizes a certain subprotocol under JDBC will be used to establish a database Connection.

Driver − This interface handles the communications with the database server. You will interact directly with Driver objects very rarely. Instead, you use DriverManager objects, which manages objects of this type. It also abstracts the details associated with working with Driver objects.

Connection − This interface with all methods for contacting a database. The connection object represents communication context, i.e., all communication with database is through connection object only.

Statement − You use objects created from this interface to submit the SQL statements to the database. Some derived interfaces accept parameters in addition to executing stored procedures.

ResultSet − These objects hold data retrieved from a database after you execute an SQL query using Statement objects. It acts as an iterator to allow you to move through its data.

SQLException − This class handles any errors that occur in a database application.
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">java.sql</code> and <code class="language-plaintext highlighter-rouge">javax.sql</code> are the primary packages for JDBC 4.0.</p>

<h2 id="steps-to-connect-jdbc">Steps to connect JDBC</h2>
<p>There are basically seven steps to get your java application connected to deal with the database.</p>

<ol>
  <li>Import the required package for the corresponding database.</li>
  <li>Load and register the JDBC drivers.</li>
  <li>Establish the connection</li>
  <li>Create a statement</li>
  <li>Execute the query</li>
  <li>Process the results</li>
  <li>Close the connections</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.sql.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstExample</span> <span class="o">{</span>
   <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">DB_URL</span> <span class="o">=</span> <span class="s">"jdbc:mysql://localhost/TUTORIALSPOINT"</span><span class="o">;</span>
   <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">USER</span> <span class="o">=</span> <span class="s">"guest"</span><span class="o">;</span>
   <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">PASS</span> <span class="o">=</span> <span class="s">"guest123"</span><span class="o">;</span>
   <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">QUERY</span> <span class="o">=</span> <span class="s">"SELECT id, first, last, age FROM Employees"</span><span class="o">;</span>

   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Open a connection</span>
      <span class="k">try</span><span class="o">(</span><span class="nc">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="no">DB_URL</span><span class="o">,</span> <span class="no">USER</span><span class="o">,</span> <span class="no">PASS</span><span class="o">);</span>
         <span class="nc">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
         <span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="no">QUERY</span><span class="o">);)</span> <span class="o">{</span>
         <span class="c1">// Extract data from result set</span>
         <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
            <span class="c1">// Retrieve by column name</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"ID: "</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">));</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">", Age: "</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"age"</span><span class="o">));</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">", First: "</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"first"</span><span class="o">));</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">", Last: "</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"last"</span><span class="o">));</span>
         <span class="o">}</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
         <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
      <span class="o">}</span> 
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="jdbc-driver">JDBC Driver</h2>
<p>JDBC driver implements the defined interfaces for interacting with your database server.</p>

<p>For example, it enables you to open database connections and to interact with it by sending SQL or database commands then receiving results with Java.</p>

<p>The <code class="language-plaintext highlighter-rouge">Java.sql</code> package that ships with JDK, contains various classes with their behaviours defined and their actual implementaions are done in third-party drivers. Third party vendors implements the <code class="language-plaintext highlighter-rouge">java.sql.Driver</code> interface in their database driver.</p>

<p>Sun divided implementatin types into four types</p>
<ul>
  <li>JDBC-ODBC Bridge Driver</li>
  <li>JDBC-Native API</li>
  <li>JDBC-Net pure Java</li>
  <li>100% Pure Java</li>
</ul>

<h2 id="connections">Connections</h2>
<p>There are two ways to <strong>explicitly</strong> register a driver.</p>
<ul>
  <li>Class.forName()</li>
  <li>DriverManager.registerDriver()</li>
</ul>

<h2 id="statements">Statements</h2>
<p>Once a connection is obtained we can interact with the database. The JDBC Statement, CallableStatement, and PreparedStatement interfaces define the methods and properties that enable you to send SQL or PL/SQL commands and receive data from your database.</p>

<p>They also define methods that help bridge data type differences between Java and SQL data types used in a database.</p>

<p>Three interfaces are provided.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Statement</code>: Use this for general-purpose access to your database. Useful when you are using static SQL statements at runtime. The Statement interface cannot accept parameters.</li>
  <li><code class="language-plaintext highlighter-rouge">PreparedStatement</code>: Use this when you plan to use the SQL statements many times. The PreparedStatement interface accepts input parameters at runtime.</li>
  <li><code class="language-plaintext highlighter-rouge">CallableStatement</code>: Use this when you want to access the database stored procedures. The CallableStatement interface can also accept runtime input parameters.</li>
</ul>

:ET